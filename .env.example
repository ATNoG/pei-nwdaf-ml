# Kafka Configuration (external broker reachable from containers)
KAFKA_HOST=kafka
KAFKA_PORT=9092
KAFKA_TOPICS=ml.inference.request,network.data.processed,network.data.request
KAFKA_BOOTSTRAP_SERVERS=${KAFKA_HOST}:${KAFKA_PORT}

# MLFlow Configuration
MLFLOW_TRACKING_URI=http://mlflow:5000
MLFLOW_EXPERIMENT_NAME=ml-service-default

# Postgres (MLflow backend store)
POSTGRES_USER=mlflow
POSTGRES_PASSWORD=mlflow
POSTGRES_DB=mlflow
POSTGRES_HOST_PORT=5432
POSTGRES_HOST=postgres

# MinIO (S3-compatible storage)
MINIO_ROOT_USER=minio
MINIO_ROOT_PASSWORD=minio123
MINIO_HOST=minio
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9091
MINIO_BUCKET=mlflow
MINIO_HOST_PORT=9090
MINIO_CONSOLE_HOST_PORT=9091

# MLflow server artifact / backend
MLFLOW_DEFAULT_ARTIFACT_ROOT=s3://mlflow
MLFLOW_BACKEND_STORE_URI=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_HOST_PORT}/${POSTGRES_DB}
MLFLOW_S3_ENDPOINT_URL=http://${MINIO_HOST}:${MINIO_PORT}
AWS_ACCESS_KEY_ID=${MINIO_ROOT_USER}
AWS_SECRET_ACCESS_KEY=${MINIO_ROOT_PASSWORD}
AWS_DEFAULT_REGION=us-east-1
MLFLOW_S3_IGNORE_TLS=true

# MLflow listen settings
MLFLOW_HOST=0.0.0.0
MLFLOW_PORT=5000
MLFLOW_VERSION=latest

# Data Storage API Configuration (update if this service is in-stack)
DATA_STORAGE_HOST=data-storage
DATA_STORAGE_HOST_PORT=8000
DATA_STORAGE_API_URL=http://${DATA_STORAGE_HOST}:${DATA_STORAGE_HOST_PORT}


# API Configuration
API_HOST=0.0.0.0
API_PORT=8060
API_RELOAD=true

# Logging
LOG_LEVEL=INFO
